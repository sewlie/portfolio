<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>3D Image Scrubber with Slider & Gradient</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
html, body { height: 100%; margin: 0; }
body {
  background: #000;
  font-family: Arial, Helvetica, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #fff;
}

/* Image container */
#viewer {
  flex: 1;
  display: flex;
  align-items: flex-end; /* gradient will be at bottom */
  justify-content: center;
  width: 100%;
  position: relative;
  overflow: hidden;
}

/* Main image */
#image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
  cursor: pointer;
}

/* Gradient overlay */
#gradient {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 20px; /* adjust fade height */
  background: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0));
  pointer-events: none;
  z-index: 1;
}

/* Slider styling */
#slider {
  position: relative;
  z-index: 2; 
  width: 30vw;
  margin: 20px 0;
  -webkit-appearance: none;
  appearance: none;
  height: 8px;
  background: #333;
  border-radius: 4px;
  outline: none;
}
#slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
  box-shadow: 0 0 5px rgba(255,255,255,0.8);
  transition: background 0.2s;
}
#slider::-webkit-slider-thumb:hover { background: #ff4444; }
#slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
  box-shadow: 0 0 5px rgba(255,255,255,0.8);
  transition: background 0.2s;
}
#slider::-moz-range-thumb:hover { background: #ff4444; }
</style>
</head>
<body>

<div id="viewer">
  <img id="image" src="3d scan jpg/frame-07.jpg" alt="3D object frame" />
  <div id="gradient"></div>
</div>

<input type="range" id="slider" min="1" max="36" step="1" value="7">

<script>
const TOTAL_FRAMES = 36;
const FOLDER = "3d scan jpg";
const START_FRAME = 7;

const img = document.getElementById('image');
const slider = document.getElementById('slider');
let currentFrame = START_FRAME;

// Preload all frames
let frames = [];
for(let i=1;i<=TOTAL_FRAMES;i++){
  const frame = new Image();
  frame.src = `${FOLDER}/frame-${String(i).padStart(2,'0')}.jpg`;
  frames[i] = frame;
}

// Set initial frame
img.src = frames[START_FRAME].src;
slider.value = START_FRAME;

// --- Update frame helper ---
function setFrame(frame){
  frame = Math.min(Math.max(frame,1),TOTAL_FRAMES);
  if(frame !== currentFrame){
    currentFrame = frame;
    img.src = frames[currentFrame].src;
    slider.value = currentFrame;
  }
}

// --- Mouse support ---
img.addEventListener('mousemove', e => {
  const rect = img.getBoundingClientRect();
  const ratio = Math.min(Math.max((e.clientX - rect.left)/rect.width,0),1);
  const frame = Math.round(ratio*(TOTAL_FRAMES-1)) + 1;
  setFrame(frame);
});

// --- Touch support ---
img.addEventListener('touchstart', e => {
  const rect = img.getBoundingClientRect();
  const ratio = Math.min(Math.max((e.touches[0].clientX - rect.left)/rect.width,0),1);
  const frame = Math.round(ratio*(TOTAL_FRAMES-1)) + 1;
  setFrame(frame);
  e.preventDefault();
});
img.addEventListener('touchmove', e => {
  const rect = img.getBoundingClientRect();
  const ratio = Math.min(Math.max((e.touches[0].clientX - rect.left)/rect.width,0),1);
  const frame = Math.round(ratio*(TOTAL_FRAMES-1)) + 1;
  setFrame(frame);
  e.preventDefault();
});

// --- Slider support ---
slider.addEventListener('input', e => {
  setFrame(Number(e.target.value));
});
</script>

</body>
</html>
